function calculateTopLeftAndBottomRightCoordinates(e){var t=e.getBoundingClientRect(),n=t.left+(window.pageXOffset||document.documentElement.scrollLeft),o=t.top+(window.pageYOffset||document.documentElement.scrollTop);return{x:[n,n+e.offsetWidth],y:[o,o+e.offsetHeight]}}function calculateGradient(e,t){return(t.y-e.y)/(t.x-e.x)}module.exports=function(e,t){function n(e,t){p.x=S.x,p.y=S.y,S.x=e,S.y=t}function o(){return!x||calculateGradient(p,w)<calculateGradient(S,w)||calculateGradient(p,L)>calculateGradient(S,L)}function i(e){if(c(),o())return a(),r(e),!0}function r(e){x=e,x.classList.add(d);var t=x.querySelector(y),n=calculateTopLeftAndBottomRightCoordinates(t);w={x:n.x[0],y:n.y[0]},L={x:n.x[0],y:n.y[1]},h={x:[E.x[0],w.x+t.offsetWidth],y:[E.y[0],w.y+t.offsetHeight]}}function u(){(S.x<h.x[0]||S.x>h.x[1]||S.y<h.y[0]||S.y>h.y[1])&&(c(),a())}function a(){x&&(e.classList.remove(v),x.classList.remove(d),x=null)}function c(){g&&clearTimeout(g)}function l(t){var n=t.target;i(n)||(e.classList.add(v),g=setTimeout(function(){i(n)},s))}function m(e){n(e.pageX,e.pageY),x&&u()}var s=t.delay||200,f=t.menuItemSelector||".menu-aim__item",d=t.menuItemActiveClassName||"menu-aim__item--active",y=t.menuItemSubMenuSelector||".menu-aim__item-submenu",v=t.delayingClassName||"menu-aim--delaying";if(!e.querySelector(f))throw new Error("No `menuItemSelector` element given");if(!e.querySelector(y))throw new Error("No `menuItemSubMenuSelector` element given");for(var g,x,w,L,h,p={},S={},E=calculateTopLeftAndBottomRightCoordinates(e),C=e.querySelectorAll(f),T=C.length;T--;)C[T].addEventListener("mouseenter",l);return window.addEventListener("mousemove",m),function(){for(T=C.length;T--;)C[T].removeEventListener("mouseenter",l);window.removeEventListener("mousemove",m)}};